
# API Project: File Metadata Microservice for freeCodeCamp

###  Пожелания пользователя (User stories):
1. Я могу отправить форму, которая включает в себя отправку файла.
2. В поле ввода файла формы атрибут "name" имеет значение "upfile". Мы полагаемся на это при тестировании.
3. Когда я отправлю что-то, я получу в JSON ответе имя файла и размер в байтах 

### Использование :
* Перейдите на главную страницу и отправьте файл, используя предоставленную форму.

### Подсказка:
* Для обработки отпраляемого файла вы должны использовать npm пакет [multer](https://www.npmjs.com/package/multer).

## РЕШЕНИЕ

### Загрузка файлов на сервер 

В Node.js нет встроенных инструментов для загрузки файлов (по крайней мере, я таких не нашел). Поэтому в данном задании рекомендуется использовать пакет multer. Этот пакет работает совместно с Express.

В форме файла `./views/index.html` атрибут `enctype` имеет значение `multipart/form-data`, без которого пакет multer не сможет загрузить указанный в форме файл на сервер.

В файле `server.js` подключаем пакет multer `const multer = require("multer")` и используем как компонент middleware. 

```js
app.use(multer({dest:"uploads"}).single("upfile"))
```

Здесь multer используется как функция, в которую передается объект с параметром `dest`. Значением параметра `dest` является путь для загрузки файла. Здесь это папка uploads. Если при создании проекта эту папку забыли создать, то она будет создана автоматически.

Функция `single()` указывает, что загружаться будет один файл, а аргумент `"upfile"` указывает на имя поля ввода, из которого будет загружаться файл. Это поле ввода находится в файле `views/index.html`.

Теперь файл, который будет загружен на сервер можно получить через свойство `req.file`.